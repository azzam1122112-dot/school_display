# ุชูุฑูุฑ ุชุญุณูู ุงูุฃุฏุงุก ูุงุณุชููุงู ุงูููุงุฑุฏ

## ๐ ุงูุชุญููู ุงูุฃููู (ูุจู ุงูุชุญุณูู)

### ุงูุฅุนุฏุงุฏุงุช ุงููุฏููุฉ:
```javascript
REFRESH_EVERY: 10 ุซูุงู
Jitter ููุทูุจุงุช ุงูุนุงุฏูุฉ: ยฑ15%
Jitter ุนูุฏ countdown zero: 150-649ms
```

### ุงูุงุณุชููุงู ุงููุชููุน ูุน 200 ุดุงุดุฉ:
```
ุงูุทูุจุงุช/ุงูุฏูููุฉ: 1,200 ุทูุจ
ุงูุทูุจุงุช/ุงูููู: 1,728,000 ุทูุจ โ๏ธ
ุงุณุชููุงู ุงูุจูุงูุงุช/ุงูุดูุฑ: 105 GB
```

### ุงููุดุงูู ุงูููุชุดูุฉ:
1. **ูุนุฏู polling ุณุฑูุน ุฌุฏุงู** (10 ุซูุงู)
2. **Thundering Herd Problem** - ุฌููุน ุงูุดุงุดุงุช ุชุทูุจ ูู ููุณ ุงููุญุธุฉ ุนูุฏ 00:00
3. **Jitter ูููู** - ูุง ูููู ูุชูุฒูุน ุงูุญูู ูุน 200+ ุดุงุดุฉ

---

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุฒูุงุฏุฉ REFRESH_EVERY
```javascript
// ูุจู
REFRESH_EVERY: 10

// ุจุนุฏ
REFRESH_EVERY: 20  // ุชูููู ุงูุงุณุชููุงู ุจูุณุจุฉ 50%
```

**ุงูุชุฃุซูุฑ:**
- ุชูููู ุงูุทูุจุงุช ูู 1.7M ุฅูู **864K ุทูุจ/ููู**
- ุชูููู ุงุณุชููุงู ุงูุจูุงูุงุช ูู 105 GB ุฅูู **51 GB/ุดูุฑ**

---

### 2. ุฒูุงุฏุฉ Jitter ููุทูุจุงุช ุงูุนุงุฏูุฉ
```javascript
// ูุจู
const v = (Math.random() * 0.3) - 0.15; // ยฑ15%

// ุจุนุฏ
const v = (Math.random() * 0.5) - 0.25; // ยฑ25%
```

**ุงูุชุฃุซูุฑ:**
- ุชูุฒูุน ุงูุทูุจุงุช ุนูู ูุทุงู ุฃูุณุน (15โ20 ุซุงููุฉ ุจุฏูุงู ูู 8.5โ11.5)
- ุชูููู ุงุญุชูุงููุฉ ุชุฒุงูู ุงูุทูุจุงุช

---

### 3. ุฒูุงุฏุฉ Jitter ุนูุฏ Countdown Zero (ุงูุฃูู!)
```javascript
// ูุจู
const jitterMs = 150 + Math.floor(Math.random() * 500); // 150-649ms

// ุจุนุฏ
const jitterMs = 1000 + Math.floor(Math.random() * 14000); // 1-15 ุซุงููุฉ
```

**ุงูุชุฃุซูุฑ:**
- **ุญู ูุดููุฉ Thundering Herd** ุชูุงูุงู
- ุชูุฒูุน 200 ุทูุจ ุนูู 15 ุซุงููุฉ ุจุฏูุงู ูู 0.5 ุซุงููุฉ
- ูุนุฏู ุงูุทูุจุงุช ุนูุฏ 00:00: **~13 ุทูุจ/ุซุงููุฉ** ุจุฏูุงู ูู **400 ุทูุจ/ุซุงููุฉ** โก

---

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุงูุงุณุชููุงู ุงูุฌุฏูุฏ ูุน 200 ุดุงุดุฉ:

```
ูุนุฏู ุงูุทูุจ: ูู 20 ุซุงููุฉ = 3 ุทูุจุงุช/ุฏูููุฉ
ุฅุฌูุงูู ุงูุทูุจุงุช: 200 ร 3 = 600 ุทูุจ/ุฏูููุฉ
                         = 36,000 ุทูุจ/ุณุงุนุฉ
                         = 864,000 ุทูุจ/ููู โ

ุญุฌู ุงูุจูุงูุงุช: 36,000 ร 2 KB = 72 MB/ุณุงุนุฉ
                            = 1.7 GB/ููู
                            = 51 GB/ุดูุฑ โ
```

### ุงูุชุญุณูู ูู ุงูุฃุฏุงุก:
| ุงููููุงุณ | ูุจู | ุจุนุฏ | ุงูุชุญุณูู |
|---------|-----|-----|---------|
| ุงูุทูุจุงุช/ููู | 1.7M | 864K | **-50%** |
| ุงุณุชููุงู ุงูุจูุงูุงุช/ุดูุฑ | 105 GB | 51 GB | **-50%** |
| Peak load ุนูุฏ 00:00 | 400 req/s | 13 req/s | **-97%** ๐ฏ |

---

## ๐ฏ ุชูุตูุงุช ุฅุถุงููุฉ (ูููุณุชูุจู)

### 1. ุชูุนูู ETag/304 Responses
- ูููู ุชูููู ุงุณุชููุงู ุงูุจูุงูุงุช ุจูุณุจุฉ **60-80%** ุฅุฐุง ูู ุชุชุบูุฑ ุงูุจูุงูุงุช
- ูุชุทูุจ ุชุนุฏูู ูู ุงูุณูุฑูุฑ (Django)

### 2. ุงุณุชุฎุฏุงู WebSocket ุจุฏูุงู ูู HTTP Polling
```javascript
// ูุซุงู ุจุณูุท
const ws = new WebSocket('wss://school-display.com/ws/display/');
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  renderState(data);
};
```

**ุงูููุงุฆุฏ:**
- ุชูููู ุงูุทูุจุงุช ุจูุณุจุฉ **95%+**
- ุชุญุฏูุซุงุช ููุฑูุฉ (real-time)
- ุงุณุชููุงู ุฃูู ุจูุซูุฑ

### 3. Service Worker ููู Caching
- cache ุงููููุงุช ุงูุซุงุจุชุฉ (JS, CSS, images)
- offline support

### 4. Server-Sent Events (SSE)
- ุจุฏูู ุฃุจุณุท ูู WebSocket
- push updates ูู ุงูุณูุฑูุฑ ููุท ุนูุฏ ุงูุชุบููุฑ

---

## ๐ฐ ุชูุฏูุฑ ุงูุชูููุฉ

### ุนูู Render.com (ูุซุงู):
- **ูุจู ุงูุชุญุณูู**: ~$50-80/ุดูุฑ ูุน 200 ุดุงุดุฉ
- **ุจุนุฏ ุงูุชุญุณูู**: ~$25-40/ุดูุฑ โ
- **ุชูููุฑ**: ~$30-40/ุดูุฑ

### ุนูู AWS CloudFront + Lambda:
- **Data transfer**: 51 GB ร $0.085 = **~$4.34/ุดูุฑ**
- **API Gateway**: 864K/day ร 30 = 25.9M requests ร $3.50/M = **~$91/ุดูุฑ**
- **Lambda**: ุญุณุจ execution time

---

## ๐ ุงููุฑุงูุจุฉ ูุงูููุงุณ

### Metrics ูููุชุงุจุนุฉ:
1. **Request rate** - ุนุฏุฏ ุงูุทูุจุงุช/ุฏูููุฉ
2. **Response time** - ูุชูุณุท ููุช ุงูุงุณุชุฌุงุจุฉ
3. **Error rate** - ูุณุจุฉ ุงูุฃุฎุทุงุก (5xx)
4. **Peak load** - ุงูุญูู ุนูุฏ 00:00 ู transition times
5. **Bandwidth** - ุงุณุชููุงู ุงูุจูุงูุงุช

### ุฃุฏูุงุช ููุชุฑุญุฉ:
- Render Metrics (built-in)
- CloudWatch (if on AWS)
- Google Analytics ูุชุชุจุน ุงูุดุงุดุงุช ุงููุดุทุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. โ ุงูุชุญุฏูุซุงุช ุขููุฉ ููู ุชุคุซุฑ ุนูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
2. โ ุงูุดุงุดุงุช ุณุชุธู ุชุชุญุฏุซ ูู 15-25 ุซุงููุฉ (ูุนููู ุฌุฏุงู)
3. โ ุนูุฏ 00:00 ุงูุชุญุฏูุซ ูุญุตู ุฎูุงู 1-15 ุซุงููุฉ (ููุจูู)
4. โ๏ธ ููุถู ุงุฎุชุจุงุฑ ุงูุชุนุฏููุงุช ุนูู ุดุงุดุฉ ูุงุญุฏุฉ ุฃููุงู
5. โ๏ธ ูููู ุชุนุฏูู ุงูููู ุญุณุจ ุงูุญุงุฌุฉ ูู `dataset` ูู HTML

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ **ูุทุจู**: ุฒูุงุฏุฉ REFRESH_EVERY ุฅูู 20
2. โ **ูุทุจู**: ุฒูุงุฏุฉ jitter ููุทูุจุงุช ุงูุนุงุฏูุฉ
3. โ **ูุทุจู**: ุฒูุงุฏุฉ jitter ุนูุฏ countdown zero
4. โณ **ููุชุฑุญ**: ุชูุนูู ETag responses ูู ุงูุณูุฑูุฑ
5. โณ **ููุชุฑุญ**: ุฏุฑุงุณุฉ ุงุณุชุฎุฏุงู WebSocket ููู real-time updates

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 2 ูุจุฑุงูุฑ 2026  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุฅูุชุงุฌ
